### ğŸ“„ F-08_Resiliencia_Hardening
```mermaid
sequenceDiagram
    participant CI as CI/CD Pipeline
    participant IS as Identity Service
    participant Redis as JWKS Cache
    participant CS as Compliance Service
    participant Chaos as Chaos Test Engine
    participant WORM as WORM Logs
    participant Alert as Alert Manager

    CI->>IS: Ejecuta test `jwks_interop_test`
    IS->>Redis: Verifica consistencia de `kid` y JWKS
    Redis-->>IS: Resultado de validaciÃ³n

    CI->>CS: Ejecuta test `compliance_fail_closed`
    Chaos->>CS: Simula caÃ­da del servicio
    CS->>CS: Activa modo degradado
    CS->>WORM: Registra evento de degradaciÃ³n
    CS->>Alert: Notifica estado degradado

    CI->>IS: Ejecuta test `dpop_replay_test`
    IS->>IS: Verifica bloqueo de replay con nonce
    IS->>Alert: Reporta mÃ©tricas de seguridad

    Alert-->>Admin: MÃ©tricas y alertas visibles en dashboard
```
# Artefactos TÃ©cnicos â€” F-08: Resiliencia y Hardening TÃ©cnico

## ğŸ§ª Pruebas de Caos y Seguridad
- `jwks_interop_test`: Verifica consistencia de claves rotativas
- `compliance_fail_closed`: Simula caÃ­da del Compliance Service
- `dpop_replay_test`: Verifica bloqueo de ataques de replay

## ğŸ“¦ MÃ©tricas y Observabilidad
- `compliance_fail_closed_trigger_count`
- `kid_mismatch_detected_total`
- `dpop_replay_block_rate`
- `revocation_latency_p95`

## ğŸ“ Registro Legal
- WORM + hash-chain para eventos de degradaciÃ³n
- Alertas distribuidas vÃ­a Alert Manager

## ğŸ” Seguridad y Resiliencia
- Circuit Breaker (Vision Doc Â§6.1)
- Fail-closed ante caÃ­da de servicios crÃ­ticos
- TTL en cache y fallback automÃ¡tico
- ValidaciÃ³n de `kid` y JWKS rotativo

## âœ… Convenciones Aplicadas
- Chaos Engineering (SAD Â§11.2)
- Event-driven architecture
- Observabilidad por servicio
- Privacy by Design
